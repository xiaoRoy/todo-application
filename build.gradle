apply plugin: 'java'

version = "$project.major.$project.minor"
sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

jar {
    manifest {
        attributes 'Main-Class': "com.learn.todo.TodoApplication"
    }
}

sourceSets {
    main {
        java {
            srcDirs = ['src/main/java']
        }
    }
    test {
        java {
            srcDirs = ['src/test/java']
        }
    }
}

project.ext.what = 'what'

ext {
    where = 'where'
}

task assertExtraProperties  {
    doLast{
        assert what == 'what'
        assert project.what == 'what'
        assert where == 'where'
        assert project.ext.where == 'where'
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '4.5.1'
    distributionUrl = "https://services.gradle.org/distributions/gradle-${gradleVersion}-all.zip"
}

task printGradleProperties{
    doLast{
        println "MajorVersion:$major"
        println "MinorVersion:$project.minor"
    }
}
